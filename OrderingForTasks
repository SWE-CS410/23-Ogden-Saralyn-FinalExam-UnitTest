The correct order for the tasks is to write the tests and then update the code with the new requirements.